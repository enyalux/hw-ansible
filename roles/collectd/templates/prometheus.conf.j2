LoadPlugin write_prometheus
<Plugin write_prometheus>
  Port {{config_prometheus_port | default(9103)}}
</Plugin>

LoadPlugin df
LoadPlugin processes
LoadPlugin protocols
LoadPlugin swap
LoadPlugin tcpconns
LoadPlugin uptime
LoadPlugin users
LoadPlugin vmem


<Plugin df>
#       Device "/dev/sda1"
#       Device "192.168.0.2:/mnt/nfs"
#       MountPoint "/home"
#       FSType "ext3"

        # ignore rootfs; else, the root file-system would appear twice, causing
        # one of the updates to fail and spam the log
        FSType rootfs
        # ignore the usual virtual / temporary file-systems
        FSType sysfs
        FSType proc
        FSType devtmpfs
        FSType devpts
        FSType tmpfs
        FSType fusectl
        FSType cgroup
        IgnoreSelected true

#       ReportByDevice false
#       ReportInodes false

#       ValuesAbsolute true
#       ValuesPercentage false
</Plugin>


<Plugin processes>
        CollectFileDescriptor true
#       CollectContextSwitch true
#       CollectMemoryMaps true
        Process "name"
#       ProcessMatch "foobar" "/usr/bin/perl foobar\\.pl.*"
#       <Process "collectd">
#               CollectFileDescriptor false
#               CollectContextSwitch false
#       </Process>
#       <ProcessMatch "name" "regex">
#               CollectFileDescriptor false
#               CollectContextSwitch true
#       </Process>
</Plugin>


<Plugin protocols>
        Value "/^Tcp:/"
#       IgnoreSelected false
</Plugin>

<Plugin swap>
        ReportByDevice false
        ReportBytes true
#       ValuesAbsolute true
#       ValuesPercentage false
        ReportIO true
</Plugin>


<Plugin tcpconns>
        ListeningPorts false
        AllPortsSummary false
#       LocalPort "25"
#       RemotePort "25"
</Plugin>



<Plugin vmem>
        Verbose false
</Plugin>

